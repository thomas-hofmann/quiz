{% include ('base.html.twig') %}
<div class="container text-center quiz-container">
    <div class="box shadow mx-auto">
        <ul class="list-group rounded">
            <li class="list-group-item">
                <h1 class="mb-0">{{ quiz.name }}</h1>
            </li>
            <li class="list-group-item">
                <i class="fa-regular fa-user"></i> {{ matrikelnummer }} | 
                <span class="{% if rightIndex > 0 %}text-success{% else %}text-danger{% endif %}"><i class="fa-regular fa-circle-check "></i> {{ rightIndex }}</span>
            </li>
            {% if rightAnswer %}
                <li class="list-group-item bg-success text-light">
                    Ihre Antwort war richtig!
                </li>
            {% else %}
                <li class="list-group-item bg-danger text-light">
                    <p class="mb-2">Ihre Antwort war leider falsch! Richtig wäre gewesen:</p>
                    {{ rightAnswerText }}
                </li>
            {% endif %}
        </ul>
    </div>
    <div class="mx-auto shadow border rounded mt-5 mb-5">
        <h2 class="mt-5">Das Quiz ist fertig</h2>
        <p class="lead {% if rightIndex > 0 %}text-success{% else %}text-danger{% endif %}">Sie haben insgesamt {{ rightIndex }} Fragen richtig beantwortet!<p>
        <a href="/" type="button" class="btn btn-primary mt-2 btn-lg">Zurück zur Startseite</a>
    </div>
    <div class="box mx-auto shadow border rounded pt-2">
        <h2>Rangliste</h2>
        <table class="table table-striped table-dark mb-4t">
            <thead>
                <tr>
                <th scope="col">Platz</th>
                <th scope="col" class="text-start">Matrikelnummer</th>
                <th scope="col" >Richtige Antworten</th>
                </tr>
            </thead>
            <tbody>
                {% set place = 1 %}
                {% for entry in leaderBoardEntries %}
                    {% if loop.index == 1 %}
                        {% set entryScoreTmp = entry.score %}
                    {% endif %}
                    {% if entryScoreTmp != entry.score %}
                        {% set place = place + 1 %}
                        {% set entryScoreTmp = entry.score %}
                    {% endif %}
                    <tr>
                        <td>{{ place }}</td>
                        <td class="text-start">
                            <div {% if entry.matrikelnumber == matrikelnummer %}class="d-inline-block fs-5 animated-icon"{% endif %}>
                                {% if place == 1 %}
                                    <span style="color: #ffd700"><i class="fa-solid fa-crown"></i></span>
                                {% endif %}
                                {% if place == 2 %}
                                    <span style="color: #c0c0c0"><i class="fa-solid fa-crown"></i></span>
                                {% endif %}
                                {% if place == 3 %}
                                    <span style="color: #bf8970"><i class="fa-solid fa-crown"></i></span>
                                {% endif %}
                                {{ entry.matrikelnumber }}
                                {% if entry.matrikelnumber == matrikelnummer %}
                                    <i class="fa-regular fa-user text-info"></i>
                                {% endif %}
                            </div>
                        </td>
                        <td>{{ entry.score }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% include ('footer.html.twig') %}