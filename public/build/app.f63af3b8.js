(self.webpackChunk=self.webpackChunk||[]).push([[524],{8003:(e,t,r)=>{"use strict";r(9582),r(8304),r(739),r(5285),r(724);var n=r(4692);n((function(){n("#sortable").length&&(n("#sortable").sortable(),n("#sortable").disableSelection(),n("#save-order").on("click",(function(e){var t={};n("#sortable li").each((function(e){t[n(this).data("id")]=e+1})),n.ajax({url:"/question-sort",method:"POST",data:{positions:t},success:function(e){alert(e)},error:function(e,t,r){alert("Fehler beim Speichern der Sortierung: "+r)}})}))),n(".toggle-quiz").length&&n(".toggle-quiz").on("change",(function(){var e=n(this).data("url"),t=n(this).is(":checked"),r=n(this).next("label");n.ajax({url:e,type:"POST",contentType:"application/json",headers:{"X-CSRF-TOKEN":'{{ csrf_token("toggle_quiz") }}'},data:JSON.stringify({isEnabled:t}),success:function(e){e.success?t?r.text("Quiz ist aktiviert"):r.text("Quiz ist deaktiviert"):alert("Fehler beim Aktualisieren des Quiz-Status.")},error:function(e,t,r){console.error("Fehler:",r)}})}))}));r(4692);r(9336)},8304:(e,t,r)=>{var n=r(4692);r(113),r(6099),r(6031),n((function(){n(".leaderboard").length&&setInterval((function(){var e=n(".leaderboard").data("quiz");n.ajax({url:"/quiz-leaderboard/".concat(e),method:"GET",success:function(e){var t=n(e).find("#container-stats").html();n("#container-stats").html(t)},error:function(){console.error("Error updating leaderboard")}})}),2e3)}))},9582:(e,t,r)=>{var n=r(4692);r(113),r(6099),r(2762),n((function(){n("#quiz-form").on("submit",(function(e){e.preventDefault();var t=n("#quiz-form"),r=t.attr("action"),a=n("#loading"),i=a.html();a.html('<i class="fa-solid fa-spinner fa-spin"></i>'),n.ajax({type:t.attr("method"),url:r,data:t.serialize(),success:function(e){var t=n(e).find(".quiz-container").html();n(".quiz-container").fadeOut(200,(function(){n(this).html(t),a.html(i),n(this).fadeIn(200)}))},error:function(e,t){console.error("AJAX Error:",e,t),a.html(i)}})})),n("#newName").on("click",(function(e){e.preventDefault();var t=n("#newName").attr("href");n.ajax({type:"get",url:t,success:function(e){n("#matrikelnummerChange").fadeOut(150,(function(){n(this).html(e.matrikelnummer),n(this).fadeIn(150)}))},error:function(e,t){console.error("AJAX Error:",e,t)}})})),n(".answer__radio").on("click",(function(){n("#submit-btn").prop("disabled",!1)}));var e=n("#codeBoolSelf"),t=n("#quizcode");n(".code__bool").on("change",(function(){e.is(":checked")?(t.prop("disabled",!1),t.prop("required",!0)):(t.prop("disabled",!0),t.prop("required",!1))})),n("#codeInput").on("change",(function(){""!==n(this).val().trim()?n("#startQuizBtn").prop("disabled",!1):n("#startQuizBtn").prop("disabled",!0)}))}))}},e=>{e.O(0,[494],(()=>{return t=8003,e(e.s=t);var t}));e.O()}]);