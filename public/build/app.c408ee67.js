(self.webpackChunk=self.webpackChunk||[]).push([[524],{8003:(t,e,r)=>{"use strict";r(9582),r(8304),r(739),r(5285),r(724);var n=r(4692);n((function(){n("#sortable").length&&(n("#sortable").sortable(),n("#sortable").disableSelection(),n("#save-order").on("click",(function(t){var e={};n("#sortable li").each((function(t){e[n(this).data("id")]=t+1})),n.ajax({url:"/question-sort",method:"POST",data:{positions:e},success:function(t){alert(t)},error:function(t,e,r){alert("Fehler beim Speichern der Sortierung: "+r)}})}))),n(".toggle-quiz").length&&n(".toggle-quiz").on("change",(function(){var t=n(this).data("url"),e=n(this).is(":checked"),r=n(this).next("label");n.ajax({url:t,type:"POST",contentType:"application/json",headers:{"X-CSRF-TOKEN":'{{ csrf_token("toggle_quiz") }}'},data:JSON.stringify({isEnabled:e}),success:function(t){t.success?e?r.text("Quiz ist aktiviert"):r.text("Quiz ist deaktiviert"):alert("Fehler beim Aktualisieren des Quiz-Status.")},error:function(t,e,r){console.error("Fehler:",r)}})}))}));r(4692);r(9336)},8304:(t,e,r)=>{var n=r(4692);r(113),r(6099),r(6031),n((function(){n(".leaderboard").length&&setInterval((function(){var t=n(".leaderboard").data("quiz");n.ajax({url:"/quiz-leaderboard/".concat(t),method:"GET",success:function(t){var e=n(t).find("#container-stats").html();n("#container-stats").html(e)},error:function(){console.error("Error updating leaderboard")}})}),2e3),n("#show-answers-button").on("click",(function(t){t.preventDefault();var e=n(this).attr("data-href");n("#show-answers-button").html('<i class="fa-solid fa-spinner fa-spin"></i></i> Ergebnisse aktualisieren'),n.ajax({url:e,method:"GET",success:function(t){var e=n(t).find("#answer-stats-container").html();n("#answer-stats-container").html(e),n("#show-answers-button .fa-solid").fadeOut(300,(function(){n("#show-answers-button").html('<i class="fa-solid fa-arrows-rotate"></i> Ergebnisse aktualisieren'),n(this).fadeIn(300)}))}})}))}))},9582:(t,e,r)=>{var n=r(4692);r(113),r(6099),r(2762),n((function(){n("#quiz-form").on("submit",(function(t){t.preventDefault();var e=n("#quiz-form"),r=e.attr("action"),a=n("#loading"),i=a.html();a.html('<i class="fa-solid fa-spinner fa-spin"></i>'),n.ajax({type:e.attr("method"),url:r,data:e.serialize(),success:function(t){var e=n(t).find(".quiz-container").html();n(".quiz-container").fadeOut(200,(function(){n(this).html(e),a.html(i),n(this).fadeIn(200)}))},error:function(t,e){console.error("AJAX Error:",t,e),a.html(i)}})})),n("#newName").on("click",(function(t){t.preventDefault();var e=n("#newName").attr("href");n.ajax({type:"get",url:e,success:function(t){n("#matrikelnummerChange").fadeOut(150,(function(){n(this).html(t.matrikelnummer),n(this).fadeIn(150)}))},error:function(t,e){console.error("AJAX Error:",t,e)}})})),n(".answer__radio").on("click",(function(){n("#submit-btn").prop("disabled",!1)}));var t=n("#codeBoolSelf"),e=n("#quizcode");n(".code__bool").on("change",(function(){t.is(":checked")?(e.prop("disabled",!1),e.prop("required",!0)):(e.prop("disabled",!0),e.prop("required",!1))})),n("#codeInput").on("change",(function(){""!==n(this).val().trim()?n("#startQuizBtn").prop("disabled",!1):n("#startQuizBtn").prop("disabled",!0)}))}))}},t=>{t.O(0,[494],(()=>{return e=8003,t(t.s=e);var e}));t.O()}]);